#!/usr/bin/env php
<?php

require_once __DIR__ . '/../vendor/autoload.php';

use function Downloader\Downloader\downloadPage;

$doc = <<<DOC
Generate page-loader

Usage:
  page-loader (-h|--help)
  page-loader (-v|--version)
  page-loader <url> [-o <dir>]

Options:
  -h --help                 Show this screen
  -v --version              Show version
  -o --output <dir>         output dir [default: ./]
DOC;

$args = Docopt::handle($doc, ['version' => '1.0']);
$output = $args['--output'];
$url = $args['<url>'];

$clientClass = \GuzzleHttp\Client::class;

$res = downloadPage($url, $output, $clientClass);
print_r($res);
